<Project Sdk="MSBuild.Sdk.Extras/3.0.23">

  <PropertyGroup>

    <!-- Target frameworks -->
    <TargetFrameworks>net5.0;monoandroid11.0</TargetFrameworks>
    <DefineConstants>STBSHARP_INTERNAL</DefineConstants>

    <!-- Version and Author -->
    <Version>1.0.0.0</Version>

    <!-- Assembly information -->
    <AssemblyName>Heirloom</AssemblyName>
    <AssemblyFileVersion>$(Version)</AssemblyFileVersion>
    <AssemblyVersion>$(Version)</AssemblyVersion>
    <Product>$(AssemblyName) ($(TargetFramework))</Product>
    
    <!-- ... why? -->
    <GenerateTargetFrameworkAttribute>false</GenerateTargetFrameworkAttribute>
    <GenerateAssemblyInfo>false</GenerateAssemblyInfo>

    <!--Version of C# to use -->
    <AllowUnsafeBlocks>true</AllowUnsafeBlocks>
    <RootNamespace>Heirloom</RootNamespace>
    <LangVersion>preview</LangVersion>

    <!-- Generate Nuget Packages -->
    <GeneratePackageOnBuild>true</GeneratePackageOnBuild>
    <SymbolPackageFormat>snupkg</SymbolPackageFormat>
    <IncludeSymbols>true</IncludeSymbols>
    <PackageOutputPath>../../Nuget/$(Configuration)</PackageOutputPath>
    <PackageId>Heirloom</PackageId>
    <PackageType></PackageType>

    <!-- Manually Compile -->
    <!--<EnableDefaultCompileItems>false</EnableDefaultCompileItems>
    <EnableDefaultNoneItems>false</EnableDefaultNoneItems>-->

  </PropertyGroup>

  <!-- DEBUG PROPERTIES -->
  <PropertyGroup Condition=" '$(Configuration)'=='Debug' ">
    <GenerateDocumentationFile>false</GenerateDocumentationFile>
    <DebugSymbols>true</DebugSymbols>
    <DebugType>full</DebugType>
    <Optimize>False</Optimize>
  </PropertyGroup>

  <!-- RELEASE PROPERTIES -->
  <PropertyGroup Condition=" '$(Configuration)'=='Release' ">
    <GenerateDocumentationFile>true</GenerateDocumentationFile>
    <DebugSymbols>True</DebugSymbols>
    <DebugType>portable</DebugType>
    <Optimize>True</Optimize>
  </PropertyGroup>

  <!-- DEFAULT ITEMS -->
  <ItemGroup>
    <Compile Remove="Platforms/Android/**/*.cs" />
    <Compile Remove="Platforms/Desktop/**/*.cs" />
  </ItemGroup>

  <!-- NET5 PROPERTIES -->
  <PropertyGroup Condition=" $(TargetFramework.StartsWith('net5')) ">
    <DefineConstants>$(DefineConstants);DESKTOP;</DefineConstants>
  </PropertyGroup>

  <!-- NET5 ITEMS -->
  <ItemGroup Condition=" $(TargetFramework.StartsWith('net5')) ">
    <ProjectReference Include="..\Heirloom.Desktop\Heirloom.Desktop.csproj" />
    <Compile Include="Platforms/Desktop/**/*.cs" />
  </ItemGroup>

  <!-- ANDROID PROPERTIES -->
  <PropertyGroup Condition=" $(TargetFramework.StartsWith('monoandroid')) ">
    <AndroidUseLatestPlatformSdk>false</AndroidUseLatestPlatformSdk>
    <TargetFrameworkVersion>v11.0</TargetFrameworkVersion>
    <DefineConstants>$(DefineConstants);ANDROID;</DefineConstants>
  </PropertyGroup>

  <!-- ANDROID ITEMS -->
  <ItemGroup Condition=" $(TargetFramework.StartsWith('monoandroid')) ">
    <ProjectReference Include="..\Heirloom.Android\Heirloom.Android.csproj" />
    <Compile Include="Platforms/Android/**/*.cs" />
  </ItemGroup>

  <ItemGroup>
    <Compile Remove="Drawing\External\StbImageSharp\generation\**" />
    <Compile Remove="Drawing\External\StbImageSharp\tests\**" />
    <Compile Remove="Drawing\External\StbImageWriteSharp\generation\**" />
    <Compile Remove="Drawing\External\StbImageWriteSharp\tests\**" />
    <Compile Remove="Drawing\External\StbTrueTypeSharp\generation\**" />
    <Compile Remove="Drawing\External\StbTrueTypeSharp\samples\**" />
    <EmbeddedResource Remove="Drawing\External\StbImageSharp\generation\**" />
    <EmbeddedResource Remove="Drawing\External\StbImageSharp\tests\**" />
    <EmbeddedResource Remove="Drawing\External\StbImageWriteSharp\generation\**" />
    <EmbeddedResource Remove="Drawing\External\StbImageWriteSharp\tests\**" />
    <EmbeddedResource Remove="Drawing\External\StbTrueTypeSharp\generation\**" />
    <EmbeddedResource Remove="Drawing\External\StbTrueTypeSharp\samples\**" />
    <None Remove="Drawing\External\StbImageSharp\generation\**" />
    <None Remove="Drawing\External\StbImageSharp\tests\**" />
    <None Remove="Drawing\External\StbImageWriteSharp\generation\**" />
    <None Remove="Drawing\External\StbImageWriteSharp\tests\**" />
    <None Remove="Drawing\External\StbTrueTypeSharp\generation\**" />
    <None Remove="Drawing\External\StbTrueTypeSharp\samples\**" />
  </ItemGroup>

  <ItemGroup>
    <None Remove="Drawing\External\StbImageSharp\.git" />
    <None Remove="Drawing\External\StbImageSharp\.gitattributes" />
    <None Remove="Drawing\External\StbImageSharp\.gitignore" />
    <None Remove="Drawing\External\StbImageSharp\appveyor.yml" />
    <None Remove="Drawing\External\StbImageSharp\build_all.bat" />
    <None Remove="Drawing\External\StbImageSharp\README.md" />
    <None Remove="Drawing\External\StbImageWriteSharp\.git" />
    <None Remove="Drawing\External\StbImageWriteSharp\.gitattributes" />
    <None Remove="Drawing\External\StbImageWriteSharp\.gitignore" />
    <None Remove="Drawing\External\StbImageWriteSharp\appveyor.yml" />
    <None Remove="Drawing\External\StbImageWriteSharp\build_all.bat" />
    <None Remove="Drawing\External\StbImageWriteSharp\README.md" />
    <None Remove="Drawing\External\StbTrueTypeSharp\.git" />
    <None Remove="Drawing\External\StbTrueTypeSharp\.gitattributes" />
    <None Remove="Drawing\External\StbTrueTypeSharp\.gitignore" />
    <None Remove="Drawing\External\StbTrueTypeSharp\appveyor.yml" />
    <None Remove="Drawing\External\StbTrueTypeSharp\build_all.bat" />
    <None Remove="Drawing\External\StbTrueTypeSharp\copy_zip_package_files.bat" />
    <None Remove="Drawing\External\StbTrueTypeSharp\README.md" />
    <None Remove="Embedded\fonts\montserrat\Montserrat-Medium.ttf" />
    <None Remove="Embedded\fonts\montserrat\Montserrat-Bold.ttf" />
    <None Remove="Embedded\icon.png" />
    <None Remove="Embedded\monogram_extended.ttf" />
    <None Remove="Embedded\LDR_RGB1_0.png" />
    <None Remove="Embedded\Shaders\blur.frag" />
    <None Remove="Embedded\Shaders\default.frag" />
    <None Remove="Embedded\Shaders\default.vert" />
    <None Remove="Embedded\Shaders\distort.frag" />
    <None Remove="Embedded\Shaders\grayscale.frag" />
    <None Remove="Embedded\Shaders\invert.frag" />
    <None Remove="Embedded\Shaders\standard\standard.frag" />
    <None Remove="Embedded\Shaders\standard\standard.glsl" />
    <None Remove="Embedded\Shaders\standard\standard.vert" />
  </ItemGroup>

  <ItemGroup>
    <EmbeddedResource Include="Embedded\fonts\montserrat\Montserrat-Regular.ttf" />
    <EmbeddedResource Include="Embedded\fonts\montserrat\Montserrat-Bold.ttf" />
    <EmbeddedResource Include="Embedded\fonts\monogram_extended.ttf" />
    <EmbeddedResource Include="Embedded\icon.png" />
    <EmbeddedResource Include="Embedded\LDR_RGB1_0.png" />
    <EmbeddedResource Include="Embedded\Shaders\blur.frag" />
    <EmbeddedResource Include="Embedded\Shaders\default.frag" />
    <EmbeddedResource Include="Embedded\Shaders\default.vert" />
    <EmbeddedResource Include="Embedded\Shaders\distort.frag" />
    <EmbeddedResource Include="Embedded\Shaders\grayscale.frag" />
    <EmbeddedResource Include="Embedded\Shaders\invert.frag" />
    <EmbeddedResource Include="Embedded\Shaders\standard\standard.frag" />
    <EmbeddedResource Include="Embedded\Shaders\standard\standard.glsl" />
    <EmbeddedResource Include="Embedded\Shaders\standard\standard.vert" />
  </ItemGroup>

</Project>
